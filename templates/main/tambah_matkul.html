{% extends 'main/base.html' %}
{% load static %}
{% block content %}
{% include "main/sidebar.html" %}
    <main class="bg-[#F2F7FF] min-h-screen lg:ml-60 flex w-full">
        <div class="absolute lg:hidden left-0 top-0 h-full w-full bg-black/30 z-[15]" @click="showMenu = false" x-show="showMenu" x-transition.opacity.duration.500ms>
        </div>
        <section class="flex-1 py-6 px-4 md:px-4 lg:px-8">
            <!-- Header -->
            {% include "main/header.html" %}
            <div class="mt-8">
                <div class="flex items-center justify-self-start">
                    <h3 class="py-4 text-[#435EBE] text-xl font-bold">{% if judul %}{{judul}} {% else %}Edit Mata Kuliah{% endif %} </h3>  
                </div>
            </div>
            <!-- Alert -->
            <!-- Alert gagal -->
            <div id="alert-1" class="bg-white mb-4 rounded-lg border-t-4 transition ease-in-out duration-500 border-red-600 rounded-lgs px-4 py-3 shadow-md" role="alert">
                <div class="flex">
                    <div class="py-1"><svg class="fill-current h-6 w-6 text-red-600 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
                    <div>
                        <p class="font-bold">Gagal tambah mata kuliah</p>
                        <p class="text-sm">Data mata kuliah tidak ditambah. Silahkan coba kembali</p>
                    </div>
                    <button onclick="hpsAlert1()" type="button" class="ml-auto -mx-1.5 -my-1.5  text-gray-300 rounded-lg  p-1.5 hover:text-gray-600 inline-flex h-8 w-8" data-dismiss="#alert-1" aria-label="close">
                        <span class="sr-only">Dismiss</span>
                        <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    </button>
                </div>
            </div>
            <!-- Alert -->
            <div class="flex flex-wrap min-w-300:flex-wrap-reverse gap-4">
                <div class="flex-auto bg-white shadow-md rounded-lg p-4">
                    <form action="" method="post" class="flex flex-col gap-2">
                        {% csrf_token %}
                        <div class="grid grid-cols-6 gap-3">
                            <input type="text" hidden name="{{form.pemilik.name}}" value="{{request.user.id}}" id="{{form.pemilik.id_for_label}}">
                            <input type="text" hidden name="{{form.prodi.name}}" value="1" id="{{form.prodi.id_for_label}}">
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Kode mata kuliah</label>
                                <input class="rounded-lg border block w-full p-2.5 mt-2" type="text" {% if form.kode_matkul.value %} value="{{form.kode_matkul.value}}" {% endif %} name="{{form.kode_matkul.name}}" placeholder="Kode mata kuliah" id="{{form.kode_matkul.id_for_label}}">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Nama mata kuliah</label>
                                <input class="rounded-lg border block w-full p-2.5 mt-2" type="text" name="{{form.nama.name}}" {% if form.nama.value %} value="{{form.nama.value}}" {% endif %} placeholder="Nama mata kuliah" id="{{form.nama.id_for_label}}">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Jumlah SKS</label>
                                <input class="rounded-lg border block w-full p-2.5 mt-2" type="number" name="{{form.jumlah_sks.name}}" {% if form.jumlah_sks.value %} value="{{form.jumlah_sks.value}}" {% endif %} placeholder="Jumlah sks" id="{{form.jumlah_sks.id_for_label}}">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Semester</label>
                                <input class="rounded-lg border block w-full p-2.5 mt-2" type="text" name="{{form.semester.name}}" {% if form.semester.value %} value="{{form.semester.value}}" {% endif %} placeholder="Semester" id="{{form.semester.id_for_label}}">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Jenis MK</label>
                                <input class="rounded-lg border block w-full p-2.5 mt-2" type="text" name="{{form.keterangan.name}}" {% if form.keterangan.value %} value="{{form.keterangan.value}}" {% endif %} placeholder="Jenis MK" id="{{form.keterangan.id_for_label}}">
                            </div>
                        </div>
                        <hr class="my-2">
                        <div class="grid grid-cols-6 gap-3">
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]" >Mata kuliah pengukur?</label>
                                <select name="{{ form.matkul_pengukur.name }}" class="rounded-lg border block w-full p-2.5 mt-2" id="{{ form.matkul_pengukur.id_for_label }}">
                                    {% for value, label in form.matkul_pengukur.field.choices %}
                                        <option value="{{ value }}" {% if form.matkul_pengukur.value == value %}selected{% endif %}>{{ label }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <label class="font-bold text-[#435EBE]">Upload file RPS</label>
                                <input class="bg-white rounded-lg block w-full p-2.5 mt-2" type="file" name="{{form.rps.name}}" id="{{form.rps.id_for_label}}">
                            </div>
                        </div>
                        <button type="submit" class="bg-[#55C6E8] rounded-lg text-white py-2 mt-2 hover:scale-105 duration-300 shadow-sm font-semibold">
                            Simpan
                        </button>
                    </form>
                </div>
            </div>
        </section>
    </main>
</body>
<script>
    function hpsAlert1() {
        document.querySelector("#alert-1").remove()
     }
</script>
{% endblock content %}